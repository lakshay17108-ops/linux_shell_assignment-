#!/bin/bash
# Purpose: Log CPU and memory usage at regular intervals
# Author: baba tillu 
# Date: 12-Nov-2025

LOG_FILE="$HOME/system_monitor.log"
INTERVAL=10  # seconds

echo "Monitoring started. Logging every $INTERVAL seconds to $LOG_FILE"
echo "Timestamp | CPU Load | Memory Usage" > "$LOG_FILE"

while true; do
    TIMESTAMP=$(date +"%Y-%m-%d %H:%M:%S")
    CPU_LOAD=$(top -bn1 | grep "load average" | awk '{print $10 $11 $12}')
    MEM_USAGE=$(free -m | awk 'NR==2{printf "%.2f%%", $3*100/$2 }')
    echo "$TIMESTAMP | $CPU_LOAD | $MEM_USAGE" >> "$LOG_FILE"
    sleep "$INTERVAL"
done
